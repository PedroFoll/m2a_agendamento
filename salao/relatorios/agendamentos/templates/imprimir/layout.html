{% load static %}
<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <title>Relatório imprimível</title>
  <link rel="stylesheet" href="{% static 'geral/css/geral_Style.css' %}">
</head>
<body>
  <!-- seu header/sidebar se precisar -->
  <div class="header">
    <h1>Relatório de Agendamentos</h1>
    <p>Período: {{ data_inicio }} — {{ data_fim }} | Status: {{ selecionar_status }}</p>
  </div>

  <div class="content">
    <table>
      <thead>
        <tr><th>Cliente</th><th>Serviço</th><th>Profissional</th><th>Data</th><th>Status</th></tr>
      </thead>
      <tbody>
        {% for ag in agendamentos %}
        <tr>
          <td>{{ ag.cliente.nome }}</td>
          <td>{{ ag.servico.nome }}</td>
          <td>{{ ag.profissional.nome }}</td>
          <td>{{ ag.data_agendada|date:"d/m/Y H:i" }}</td>
          <td>{{ ag.status }}</td>
        </tr>
        {% empty %}
        <tr><td colspan="5">Nenhum agendamento</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- marcador para o Selenium saber que a página está pronta -->
  <div id="print-ready" style="display:none;"></div>

  <!-- opcional: script que remove loader e cria o marcador quando tudo estiver ok -->
  <script>
    window.addEventListener('load', function(){ 
      document.getElementById('print-ready').style.display = 'block';
    });
  </script>
</body>
</html>
